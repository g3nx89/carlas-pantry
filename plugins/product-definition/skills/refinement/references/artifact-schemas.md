# Artifact Schemas

> Canonical formats for runtime-generated artifacts.
> Used for structural validation in quality-gates.md and by coordinators writing artifacts.

---

## QUESTIONS-{NNN}.md Structure

```yaml
---
round_number: {N}
analysis_mode: "{complete|advanced|standard|rapid}"
panel_preset: "{preset_name}"
panel_members: ["{id1}", "{id2}", ...]
generated_at: "{ISO_TIMESTAMP}"
questions_count: {N}
---
```

### Question Block Format

Each question follows this structure:

```markdown
## Q-{PREFIX}{NNN}: {Question title} [{PRIORITY}]

**ThinkDeep Insights:** (present only if ThinkDeep ran)
- [red] COMPETITIVE: {insight}
- [yellow] RISK: {insight}
- [green] CONTRARIAN: {insight}

**Multi-Perspective Context:**
- [target] {Perspective 1}: "{context}"
- [user] {Perspective 2}: "{context}"

### Options:

- [ ] **A) {Option title}** {N}-stars {(Recommended) if highest rated}
  - PRO: {specific, measurable benefit}
  - CON: {specific, measurable drawback}

- [ ] **B) {Option title}** {N}-stars
  - PRO: {benefit}
  - CON: {drawback}

- [ ] **C) {Option title}** {N}-stars
  - PRO: {benefit}
  - CON: {drawback}

- [ ] **D) Other (custom answer)**
  ```
  [Your custom answer here]
  ```

### Notes:
[Add any context or reasoning for your choice]
```

### Structural Validation Rules

Used by `quality-gates.md` for blocking checks:

| Check | Pattern | Requirement |
|-------|---------|-------------|
| Question block | `## Q-` heading | >= 1 per file |
| Checkbox options | `- [ ]` or `- [x]` | >= 3 per question |
| Priority tag | `[CRITICAL]`, `[HIGH]`, or `[MEDIUM]` | 1 per question |
| YAML frontmatter | `---` delimiters | Present at top |
| Question ID uniqueness | Q-{PREFIX}{NNN} | No duplicates |

---

## response-validation-round-{N}.md Structure

Generated by Stage 4 PAL Consensus (when available):

```markdown
# Response Validation -- Round {N}

## Consensus Summary
- Models consulted: {list}
- Agreement level: {unanimous|majority|split}

## Per-Section Assessment

| PRD Section | Status | Evidence | Gaps |
|-------------|--------|----------|------|
| {section} | ready/partial/missing | Q-{IDs} | {description} |

## Contradictions Found
1. {Q-X says A but Q-Y implies B}

## Recommended Follow-up Questions
1. {Question targeting identified gap}
```

---

## completion-report.md Structure

Generated by Stage 6. See `stage-6-completion.md` for the full template.

---
# Planning State File
# This file tracks the state of feature planning and is auto-generated.
# DO NOT manually edit the YAML frontmatter unless recovering from errors.

version: 2
current_phase: "SETUP"
phase_status: "pending"
analysis_mode: null  # complete | advanced | standard | rapid

# MCP tool availability (detected at setup)
mcp_availability:
  pal_thinkdeep: null
  sequential_thinking: null
  pal_consensus: null

# CLI integration state (detected in Step 1.5b)
cli:
  available: null
  capabilities:
    gemini: null
    codex: null
  roles_deployed: false
  mode: null  # dual | single_gemini | single_codex | disabled
  dispatch_infrastructure:
    script_available: null
    jq_available: null
    python3_available: null

# Phase summary file paths (populated as phases complete)
# Migration: v1 state files are auto-migrated on resume.
# See references/orchestrator-loop.md for migration logic.
phase_summaries:
  phase_1: null  # .phase-summaries/phase-1-summary.md
  phase_2: null
  phase_3: null
  phase_4: null
  phase_5: null
  phase_6: null
  phase_6b: null
  phase_7: null
  phase_8: null
  phase_8b: null
  phase_9: null

# Completed phases in order
completed_phases: []

# User decisions are IMMUTABLE once saved
# These are never re-asked on resume
user_decisions: {}

# Architecture-specific state
architecture:
  options_generated: 0
  selected_option: null
  design_files: []

# ThinkDeep state (Complete/Advanced modes)
thinkdeep:
  perspectives_analyzed: []
  total_calls: 0
  failures: []
  convergent_findings: 0
  divergent_findings: 0

# Validation state
validation:
  method: null  # pal_consensus | internal
  score: null
  status: null  # GREEN | YELLOW | RED

# Asset consolidation (Phase 8b)
assets:
  manifest_generated: false
  asset_count: 0
  categories: []
  validated: false
  skipped: false

# Timestamps
timestamps:
  started: null
  setup_completed: null
  research_completed: null
  clarification_completed: null
  architecture_completed: null
  thinkdeep_completed: null
  validation_completed: null
  completion_completed: null
  expert_review_completed: null
  test_strategy_completed: null
  test_coverage_completed: null
  asset_consolidation_completed: null

# Orchestrator metadata
orchestrator:
  version: 2
  delegation_model: "lean_orchestrator"
  coordinator_failures: 0
  summaries_reconstructed: 0

---

# Planning State Log

This section contains a human-readable log of planning activity.

## Session Started

- Feature: {FEATURE_NAME}
- Branch: {GIT_BRANCH}
- Timestamp: {ISO_DATE}

---

<!-- Subsequent phases append their logs below -->
